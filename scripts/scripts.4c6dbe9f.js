jQuery(document).ready(function(){jQuery(function(){jQuery(".navbar-nav li a").click(function(){jQuery(".navbar-nav li").removeClass("active"),jQuery(this).parent().addClass("active")})})}),angular.module("appliMobileBatiChiffrageApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).run(["$rootScope",function(a){a.filter={},a.config={},a.config.showMenu=!1,a.config.a=0}]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/myroute",{templateUrl:"views/myroute.html",controller:"MyrouteCtrl"}).when("/projet",{templateUrl:"views/projet.html",controller:"ProjetCtrl"}).when("/projets",{templateUrl:"views/projets.html",controller:"ProjetsCtrl"}).when("/clients",{templateUrl:"views/clients.html",controller:"ClientsCtrl"}).when("/client",{templateUrl:"views/client.html",controller:"ClientsCtrl"}).when("/chiffrage",{templateUrl:"views/chiffrage.html",controller:"ChiffrageCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"})}]).directive("resultDocument",function(){return{restrict:"E",scope:{doc:"=record"},templateUrl:"app/view/my_result_document.html"}});var solr=angular.module("solr",[]).controller("facetGroupController",["$scope",function(a){a.facets={},this.getFacets=function(){return a.facets},this.registerFacet=function(b){a.facets[b.field]=b},a.listFields=function(){var b=[];for(var c in a.facets)b.push(a.facets[c].field);return b},this.setFacetResult=function(b,c){for(var d in a.facets)a.facets[d].field===b&&(a.facets[d].results=c)}}]).directive("solrFacetGroup",function(){return{restrict:"E",scope:{},controller:"facetGroupController",transclude:!0,templateUrl:"app/view/solr_facet_group.html",require:["^solr","solrFacetGroup"],link:function(a,b,c,d){var e=d[0],f=d[1];e.setFacetGroup(a),a.$watch(function(){return e.facet_fields},function(a,b){if(a!==b)for(var c in f.getFacets())f.setFacetResult(c,e.facet_fields[c])})}}}).directive("solrSelected",function(){return{restrict:"E",scope:{},controller:["$scope",function(a){a.selected={field:"mods_type_of_resource",value:"notated music"}}],transclude:!0,templateUrl:"app/view/solr_selected.html",require:"^solr",link:function(a,b,c,d){a.selected=function(){return d.selected_facets_obj}}}}).directive("solrSearch",["$location",function(a){return{scope:{},restrict:"E",templateUrl:"app/view/solr_search.html",require:"^solr",link:function(b,c,d,e){b.search=function(b,c){c=c||"10",b=b||"*",a.search("q",b),a.search("rows",c),e.search(b,c)},b.roptions=["3","10","20","30"],b.rows="10",b.preload=d.preload,b.query=d.query,b.preload&&b.search(b.query,b.rows)}}}]).directive("solrFacet",function(){return{restrict:"E",scope:{display:"@",field:"@",results:"&"},require:"^solrFacetGroup",templateUrl:"app/view/solr_facet.html",link:function(a,b,c,d){d.registerFacet(a);var e=Object.getOwnPropertyNames;a.isEmpty=function(){return"undefined"!=typeof a.results?0===e(a.results).length:!0}}}}).directive("solrFacetResult",["$location",function(a){return{restrict:"E",scope:{field:"@",key:"@",count:"@",remove:"@"},require:"^solr",templateUrl:"app/view/solr_facet_result.html",link:function(b,c,d,e){b.facetString=function(){return b.field+':"'+b.key+'"'},b.isSelected=function(){selectedFacets=e.selected_facets,facetString=b.facetString();for(i in selectedFacets)if(selectedFacets[i]==facetString)return!0;return!1},b.addFacet=function(){b.isSelected()||(selectedFacets=e.selected_facets,selectedFacets.push(b.facetString()),a.search("selected_facets",selectedFacets),e.search())},b.removeFacet=function(){selectedFacets=e.selected_facets,selectedFacets.pop(b.facetString()),a.search("selected_facets",selectedFacets),e.search()}}}}]).directive("solr",function(){return{scope:{solrUrl:"=",docs:"=",preload:"=",numFound:"="},restrict:"E",controller:["$scope","$http","$location",function(a,b,c){var d=this;d.facet_fields={},d.selected_facets=[],d.getQuery=function(){return c.search().q||"*"},d.getRows=function(){return c.search().rows||"10"},d.buildSearchParams=function(){return params={q:d.getQuery(),facet:"on","facet.mincount":"1",wt:"json","json.nl":"map",rows:d.getRows()},selectedFacets=this.selected_facets,selectedFacets&&(params.fq=selectedFacets),a.facet_group&&(params["facet.field"]=a.facet_group.listFields()),params},d.search=function(c,e){b.jsonp(d.solrUrl,{params:d.buildSearchParams(),cache:!0}).success(function(b){d.facet_fields=b.facet_counts.facet_fields,a.docs=b.response.docs,a.numFound=b.response.numFound,d.selected_facets=d.getSelectedFacets(),d.selected_facets_obj=d.getSelectedFacetsObjects()})},a.search=d.search,this.setFacetGroup=function(b){a.facet_group=b},this.getSelectedFacetsObjects=function(){var a=[];return this.selected_facets.forEach(function(b,c){split_val=b.split(":"),a.push({field:split_val[0],value:split_val[1].replace(/"/g,"")})}),a},this.getSelectedFacets=function(){return selected=c.search().selected_facets,selectedFacets=[],angular.isArray(selected)?selectedFacets=selected:selected&&selectedFacets.push(selected),selectedFacets},this.selected_facets=this.getSelectedFacets(),this.selected_facets_obj=this.getSelectedFacetsObjects(),a.$watch(function(){return c.search()},function(a,b){a!==b&&d.search()},!0)}],require:"solr",link:function(a,b,c,d){d.solrUrl=a.solrUrl}}});angular.module("appliMobileBatiChiffrageApp").controller("MainCtrl",["$scope","$location",function(a,b){console.log("controleur main"),console.log(b.path())}]).controller("MainController",["$scope","$route","$routeParams","$location",function(a,b,c,d){console.log("eeee",d.path()),a.$location=d,a.$routeParams=c,a.$route=b,a.a++,a.config.showMenu=d.path()}]),angular.module("appliMobileBatiChiffrageApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.toto="rrrrrrrrrrrrrrrr99999999"}]),angular.module("appliMobileBatiChiffrageApp").controller("ContactCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("appliMobileBatiChiffrageApp").controller("ProjetCtrl",["$scope",function(a){a.oneAtATime=!0,a.status={isFirstOpen:!1,isFirstDisabled:!1}}]),angular.module("appliMobileBatiChiffrageApp").controller("ProjetsCtrl",["$scope","$location",function(a,b){a.toto="couckou";var c=this;if(c.toto=a.toto,console.log("rrr",b.path()),"undefined"==typeof d){console.log("no def b");var d=1}d+=1,a.loc=b.path(),a.b=d,a.config.a=a.config.a+1,console.log(a.b)}]),angular.module("appliMobileBatiChiffrageApp").controller("ClientCtrl",["$scope",function(a){}]),angular.module("appliMobileBatiChiffrageApp").controller("ClientsCtrl",["$scope",function(a){a.update=function(){a.message="User sauvéé"},a.filter.filtre1="client",console.log(angular.fromJson({aa:"bbb"})),a.fromJJson=function(a){return angular.fromJson(a)}}]),angular.module("appliMobileBatiChiffrageApp").controller("ChiffrageCtrl",["$scope","$location","$log",function(a,b,c){a.params=b.search(),a.$log=c}]);