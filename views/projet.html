 <div ng-if="!synchronized">Demande de synchronisation, au serveur</div> <div ng-if="synchronized"> <a role="button" href="#/projets" class="btn btn-success btn-lg">Liste des projets</a> <h3 class="bg-success"> Projet "{{projet.nom}}" <span class="label label-success mg-l-25 label-bc pull-right" ng-if="projet.avancement == 'transmis'">{{projet.avancement}}</span> <span class="label label-info mg-l-25 label-bc pull-right" ng-if="projet.avancement == 'etude'">{{projet.avancement}}</span> <span class="label label-warning mg-l-25 label-bc pull-right" ng-if="projet.avancement == 'accepte'">{{projet.avancement}}</span> <span class="label label-primary mg-l-25 label-bc pull-right" ng-if="projet.avancement == 'facture'">{{projet.avancement}}</span> <span class="label label-danger mg-l-25 label-bc pull-right" ng-if="projet.avancement == 'cloture'">{{projet.avancement}}</span> </h3> <div class="row mg-b-15"> <p ng-show="projet.reference != ''"> <span class="col-sm-3 text-right">R&eacute;f&eacute;rence</span> <span class="col-sm-9"><span class="label label-success mg-r-10">{{projet.reference}}</span></span> </p> <p> <span class="col-sm-3 text-right">Cr&eacute;e le</span> <span class="col-sm-9"><span class="label label-success mg-r-10">{{projet.dt_cre | formatDatemdY}}</span></span></p>  <p> <span class="col-sm-3 text-right">Modifi&eacute; le</span> <span class="col-sm-9"><span class="label label-success mg-r-10">{{projet.dt_maj | formatDatemdY}}</span></span></p>  </div> <a role="button" href="#/fournitures/{{projet.PrId}}" class="btn btn-success btn-sm">Liste des fournitures</a> <a role="button" href="#/paramprojet/{{projet.PrId}}" class="btn btn-success btn-sm">Paramètres du projet</a>  <h3>Ouvrages du projet</h3> <accordion close-others="oneAtATime"> <accordion-group ng-repeat="ligne in projet.TLigne"> <accordion-heading> <span style="font-size: 22px; font-weight: bolder; line-height: 24px; overflow: hidden; text-overflow:ellipsis; white-space: nowrap; width: 70%; display: block">{{ligne.libelle}}</span><br> <span style="font-size: 14px"> <span>Quantité : {{ligne.quantite}} {{ligne.unite}}</span> <span>- Prix Unitaire : {{ligne.prix | formatPrix}} &euro;</span> <span>- Total HT : {{ligne.total | formatPrix}} &euro;</span> <span ng-if="projet.no_tva == 0"> - TVA : {{ligne.coef_tva | tauxtva}} %</span> <span ng-if="projet.no_tva == 1"> - TVA non applicable, art 293 B du CGI</span> </span> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-up': status.open, 'glyphicon-chevron-down': !status.open}"></i> </accordion-heading> <div ng-repeat="piece in projet.TPiece" ng-if="piece.id == ligne.id_piece && testLibelle(piece.libelle)"> <span style="font-weight: bold">Emplacement : </span> <span>{{piece.libelle}}</span> </div> <div ng-repeat="corps in projet.TProjetCorps" ng-if="corps.id == ligne.id_corps && testLibelle(corps.libelle)"> <span style="font-weight: bold">Lot : </span> <span>{{corps.libelle}}</span> </div> <div> <span style="font-weight: bold">Description : </span> <span>{{ligne.libelle}}</span> </div> </accordion-group> </accordion> <h4 class="bg-success" style="padding: 15px">Total HT : {{projet.prix | formatPrix}} &euro;</h4> <h4 class="bg-info" style="padding: 15px" ng-show="projet.remise != '0'">Remise client : {{projet.remise | formatPrix}} &euro;</h4> <h4 class="bg-primary" style="padding: 15px"></h4> <ul style="list-style-type: none; font-size: 18px"> <li ng-repeat="tva in tvas">Total TVA {{tva.tva | tauxtva}} % : {{tva.total | formatPrix}} &euro;</li> </ul> <h4 class="bg-warning" style="padding: 15px" ng-show="sum != ''">Total TVA : {{sum | formatPrix}} &euro;</h4> <h4 class="bg-danger" style="padding: 15px">Total TTC : {{projet.totalTTC_remise | formatPrix}} &euro;</h4> </div> 